<!DOCTYPE html>
<html>

<head>
    <title>Maze</title>

    <script src="maze.js" type="text/javascript"></script>

</head>

<body>
    <canvas id="canvas" width="600" height="600"></canvas>
</body>


<script type="text/javascript">
    const CANVAS_WIDTH = 600;
    const CANVAS_HEIGHT = 600;
    const MAZE_WIDTH = 40;
    const MAZE_HEIGHT = 40;

    var itemsCounter = 0;

    const maze = new Maze();
    maze.init(MAZE_WIDTH, MAZE_HEIGHT, (i, j) => new ItemSymbol(itemsCounter++, i, j, '0'));

    const mazeToCanvasPrinter = new MazeToCanvasPrinter(document.getElementById('canvas').getContext('2d'), CANVAS_WIDTH, CANVAS_HEIGHT);

    const controlItem = new ItemWithControl(itemsCounter++, 10, 10, maze);
    maze.place (controlItem);

    document.addEventListener('keydown', function (event) {
        if (event.keyCode == 37) {  
            controlItem.moveLeft();
        }
        else if (event.keyCode == 39) {        
            controlItem.moveRight();
        }
        if (event.keyCode == 38) {  
            controlItem.moveUp();
        }
        else if (event.keyCode == 40) {        
            controlItem.moveDown();
        }
    });

    setInterval(() => {
        document.getElementById('canvas').getContext('2d').clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
        mazeToCanvasPrinter.print(maze);
    }, 500);
</script>

</html>